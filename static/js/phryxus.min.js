(function(e,t,i,n){var s=i(e),o=i(t),a=i.fancybox=function(){a.open.apply(this,arguments)},r=navigator.userAgent.match(/msie/),l=null,c=t.createTouch!==n,u=function(e){return e&&e.hasOwnProperty&&e instanceof i},d=function(e){return e&&"string"===i.type(e)},h=function(e){return d(e)&&e.indexOf("%")>0},p=function(e,t){var i=parseInt(e,10)||0;return t&&h(e)&&(i*=a.getViewport()[t]/100),Math.ceil(i)},f=function(e,t){return p(e,t)+"px"};i.extend(a,{version:"2.1.4",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!c,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(r?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeChange:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){return e&&(i.isPlainObject(t)||(t={}),!1!==a.close(!0))?(i.isArray(e)||(e=u(e)?i(e).get():[e]),i.each(e,function(s,o){var r,l,c,h,p,f={};"object"===i.type(o)&&(o.nodeType&&(o=i(o)),u(o)?(f={href:o.data("fancybox-href")||o.attr("href"),title:o.data("fancybox-title")||o.attr("title"),isDom:!0,element:o},i.metadata&&i.extend(!0,f,o.metadata())):f=o),r=t.href||f.href||(d(o)?o:null),l=t.title!==n?t.title:f.title||"",h=(c=t.content||f.content)?"html":t.type||f.type,!h&&f.isDom&&(h=o.data("fancybox-type"),h||(h=(h=o.prop("class").match(/fancybox\.(\w+)/))?h[1]:null)),d(r)&&(h||(a.isImage(r)?h="image":a.isSWF(r)?h="swf":"#"===r.charAt(0)?h="inline":d(o)&&(h="html",c=o)),"ajax"===h&&(p=r.split(/\s+/,2),r=p.shift(),p=p.shift())),c||("inline"===h?r?c=i(d(r)?r.replace(/.*(?=#[^\s]+$)/,""):r):f.isDom&&(c=o):"html"===h?c=r:!h&&!r&&f.isDom&&(h="inline",c=o)),i.extend(f,{href:r,type:h,content:c,title:l,selector:p}),e[s]=f}),a.opts=i.extend(!0,{},a.defaults,t),t.keys!==n&&(a.opts.keys=t.keys?i.extend({},a.defaults.keys,t.keys):!1),a.group=e,a._start(a.opts.index)):void 0},cancel:function(){var e=a.coming;e&&!1!==a.trigger("onCancel")&&(a.hideLoading(),a.ajaxLoad&&a.ajaxLoad.abort(),a.ajaxLoad=null,a.imgPreload&&(a.imgPreload.onload=a.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger("onReset").remove(),a.coming=null,a.current||a._afterZoomOut(e))},close:function(e){a.cancel(),!1!==a.trigger("beforeClose")&&(a.unbindEvents(),a.isActive&&(a.isOpen&&!0!==e?(a.isOpen=a.isOpened=!1,a.isClosing=!0,i(".fancybox-item, .fancybox-nav").remove(),a.wrap.stop(!0,!0).removeClass("fancybox-opened"),a.transitions[a.current.closeMethod]()):(i(".fancybox-wrap").stop(!0).trigger("onReset").remove(),a._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(a.player.timer)},n=function(){t(),a.current&&a.player.isActive&&(a.player.timer=setTimeout(a.next,a.current.playSpeed))},s=function(){t(),i("body").unbind(".player"),a.player.isActive=!1,a.trigger("onPlayEnd")};!0===e||!a.player.isActive&&!1!==e?a.current&&(a.current.loop||a.current.index<a.group.length-1)&&(a.player.isActive=!0,i("body").bind({"afterShow.player onUpdate.player":n,"onCancel.player beforeClose.player":s,"beforeLoad.player":t}),n(),a.trigger("onPlayStart")):s()},next:function(e){var t=a.current;t&&(d(e)||(e=t.direction.next),a.jumpto(t.index+1,e,"next"))},prev:function(e){var t=a.current;t&&(d(e)||(e=t.direction.prev),a.jumpto(t.index-1,e,"prev"))},jumpto:function(e,t,i){var s=a.current;s&&(e=p(e),a.direction=t||s.direction[e>=s.index?"next":"prev"],a.router=i||"jumpto",s.loop&&(0>e&&(e=s.group.length+e%s.group.length),e%=s.group.length),s.group[e]!==n&&(a.cancel(),a._start(e)))},reposition:function(e,t){var n,s=a.current,o=s?s.wrap:null;o&&(n=a._getPosition(t),e&&"scroll"===e.type?(delete n.position,o.stop(!0,!0).animate(n,200)):(o.css(n),s.pos=i.extend({},s.dim,n)))},update:function(e){var t=e&&e.type,i=!t||"orientationchange"===t;i&&(clearTimeout(l),l=null),a.isOpen&&!l&&(l=setTimeout(function(){var n=a.current;n&&!a.isClosing&&(a.wrap.removeClass("fancybox-tmp"),(i||"load"===t||"resize"===t&&n.autoResize)&&a._setDimension(),"scroll"===t&&n.canShrink||a.reposition(e),a.trigger("onUpdate"),l=null)},i&&!c?0:300))},toggle:function(e){a.isOpen&&(a.current.fitToView="boolean"===i.type(e)?e:!a.current.fitToView,c&&(a.wrap.removeAttr("style").addClass("fancybox-tmp"),a.trigger("onUpdate")),a.update())},hideLoading:function(){o.unbind(".loading"),i("#fancybox-loading").remove()},showLoading:function(){var e,t;a.hideLoading(),e=i('<div id="fancybox-loading"><div></div></div>').click(a.cancel).appendTo("body"),o.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),a.cancel())}),a.defaults.fixed||(t=a.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var t=a.current&&a.current.locked||!1,i={x:s.scrollLeft(),y:s.scrollTop()};return t?(i.w=t[0].clientWidth,i.h=t[0].clientHeight):(i.w=c&&e.innerWidth?e.innerWidth:s.width(),i.h=c&&e.innerHeight?e.innerHeight:s.height()),i},unbindEvents:function(){a.wrap&&u(a.wrap)&&a.wrap.unbind(".fb"),o.unbind(".fb"),s.unbind(".fb")},bindEvents:function(){var e,t=a.current;t&&(s.bind("orientationchange.fb"+(c?"":" resize.fb")+(t.autoCenter&&!t.locked?" scroll.fb":""),a.update),(e=t.keys)&&o.bind("keydown.fb",function(s){var o=s.which||s.keyCode,r=s.target||s.srcElement;return 27===o&&a.coming?!1:(!(s.ctrlKey||s.altKey||s.shiftKey||s.metaKey||r&&(r.type||i(r).is("[contenteditable]"))||!i.each(e,function(e,r){return t.group.length>1&&r[o]!==n?(a[e](r[o]),s.preventDefault(),!1):i.inArray(o,r)>-1?(a[e](),s.preventDefault(),!1):void 0})),void 0)}),i.fn.mousewheel&&t.mouseWheel&&a.wrap.bind("mousewheel.fb",function(e,n,s,o){for(var r=i(e.target||null),l=!1;r.length&&!l&&!r.is(".fancybox-skin")&&!r.is(".fancybox-wrap");)l=r[0]&&!(r[0].style.overflow&&"hidden"===r[0].style.overflow)&&(r[0].clientWidth&&r[0].scrollWidth>r[0].clientWidth||r[0].clientHeight&&r[0].scrollHeight>r[0].clientHeight),r=i(r).parent();0!==n&&!l&&a.group.length>1&&!t.canShrink&&(o>0||s>0?a.prev(o>0?"down":"left"):(0>o||0>s)&&a.next(0>o?"up":"right"),e.preventDefault())}))},trigger:function(e,t){var n,s=t||a.coming||a.current;if(s){if(i.isFunction(s[e])&&(n=s[e].apply(s,Array.prototype.slice.call(arguments,1))),!1===n)return!1;s.helpers&&i.each(s.helpers,function(t,n){n&&a.helpers[t]&&i.isFunction(a.helpers[t][e])&&(n=i.extend(!0,{},a.helpers[t].defaults,n),a.helpers[t][e](n,s))}),i.event.trigger(e+".fb")}},isImage:function(e){return d(e)&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(e){return d(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t,n,s={};if(e=p(e),t=a.group[e]||null,!t)return!1;if(s=i.extend(!0,{},a.opts,t),t=s.margin,n=s.padding,"number"===i.type(t)&&(s.margin=[t,t,t,t]),"number"===i.type(n)&&(s.padding=[n,n,n,n]),s.modal&&i.extend(!0,s,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),s.autoSize&&(s.autoWidth=s.autoHeight=!0),"auto"===s.width&&(s.autoWidth=!0),"auto"===s.height&&(s.autoHeight=!0),s.group=a.group,s.index=e,a.coming=s,!1===a.trigger("beforeLoad"))a.coming=null;else{if(n=s.type,t=s.href,!n)return a.coming=null,a.current&&a.router&&"jumpto"!==a.router?(a.current.index=e,a[a.router](a.direction)):!1;if(a.isActive=!0,("image"===n||"swf"===n)&&(s.autoHeight=s.autoWidth=!1,s.scrolling="visible"),"image"===n&&(s.aspectRatio=!0),"iframe"===n&&c&&(s.scrolling="scroll"),s.wrap=i(s.tpl.wrap).addClass("fancybox-"+(c?"mobile":"desktop")+" fancybox-type-"+n+" fancybox-tmp "+s.wrapCSS).appendTo(s.parent||"body"),i.extend(s,{skin:i(".fancybox-skin",s.wrap),outer:i(".fancybox-outer",s.wrap),inner:i(".fancybox-inner",s.wrap)}),i.each(["Top","Right","Bottom","Left"],function(e,t){s.skin.css("padding"+t,f(s.padding[e]))}),a.trigger("onReady"),"inline"===n||"html"===n){if(!s.content||!s.content.length)return a._error("content")}else if(!t)return a._error("href");"image"===n?a._loadImage():"ajax"===n?a._loadAjax():"iframe"===n?a._loadIframe():a._afterLoad()}},_error:function(e){i.extend(a.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:a.coming.tpl.error}),a._afterLoad()},_loadImage:function(){var e=a.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,a.coming.width=this.width,a.coming.height=this.height,a._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,a._error("image")},e.src=a.coming.href,!0!==e.complete&&a.showLoading()},_loadAjax:function(){var e=a.coming;a.showLoading(),a.ajaxLoad=i.ajax(i.extend({},e.ajax,{url:e.href,error:function(e,t){a.coming&&"abort"!==t?a._error("ajax",e):a.hideLoading()},success:function(t,i){"success"===i&&(e.content=t,a._afterLoad())}}))},_loadIframe:function(){var e=a.coming,t=i(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",c?"auto":e.iframe.scrolling).attr("src",e.href);i(e.wrap).bind("onReset",function(){try{i(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}}),e.iframe.preload&&(a.showLoading(),t.one("load",function(){i(this).data("ready",1),c||i(this).bind("load.fb",a.update),i(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),a._afterLoad()})),e.content=t.appendTo(e.inner),e.iframe.preload||a._afterLoad()},_preloadImages:function(){var e,t,i=a.group,n=a.current,s=i.length,o=n.preload?Math.min(n.preload,s-1):0;for(t=1;o>=t;t+=1)e=i[(n.index+t)%s],"image"===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e,t,n,s,o,r=a.coming,l=a.current;if(a.hideLoading(),r&&!1!==a.isActive)if(!1===a.trigger("afterLoad",r,l))r.wrap.stop(!0).trigger("onReset").remove(),a.coming=null;else{switch(l&&(a.trigger("beforeChange",l),l.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),a.unbindEvents(),e=r.content,t=r.type,n=r.scrolling,i.extend(a,{wrap:r.wrap,skin:r.skin,outer:r.outer,inner:r.inner,current:r,previous:l}),s=r.href,t){case"inline":case"ajax":case"html":r.selector?e=i("<div>").html(e).find(r.selector):u(e)&&(e.data("fancybox-placeholder")||e.data("fancybox-placeholder",i('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()),e=e.show().detach(),r.wrap.bind("onReset",function(){i(this).find(e).length&&e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":e=r.tpl.image.replace("{href}",s);break;case"swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+s+'"></param>',o="",i.each(r.swf,function(t,i){e+='<param name="'+t+'" value="'+i+'"></param>',o+=" "+t+'="'+i+'"'}),e+='<embed src="'+s+'" type="application/x-shockwave-flash" width="100%" height="100%"'+o+"></embed></object>"}(!u(e)||!e.parent().is(r.inner))&&r.inner.append(e),a.trigger("beforeShow"),r.inner.css("overflow","yes"===n?"scroll":"no"===n?"hidden":n),a._setDimension(),a.reposition(),a.isOpen=!1,a.coming=null,a.bindEvents(),a.isOpened?l.prevMethod&&a.transitions[l.prevMethod]():i(".fancybox-wrap").not(r.wrap).stop(!0).trigger("onReset").remove(),a.transitions[a.isOpened?r.nextMethod:r.openMethod](),a._preloadImages()}},_setDimension:function(){var e,t,n,s,o,r,l,c,u,d=a.getViewport(),m=0,g=!1,v=!1,g=a.wrap,b=a.skin,y=a.inner,w=a.current,v=w.width,_=w.height,x=w.minWidth,C=w.minHeight,k=w.maxWidth,T=w.maxHeight,S=w.scrolling,E=w.scrollOutside?w.scrollbarWidth:0,I=w.margin,D=p(I[1]+I[3]),$=p(I[0]+I[2]);if(g.add(b).add(y).width("auto").height("auto").removeClass("fancybox-tmp"),I=p(b.outerWidth(!0)-b.width()),e=p(b.outerHeight(!0)-b.height()),t=D+I,n=$+e,s=h(v)?(d.w-t)*p(v)/100:v,o=h(_)?(d.h-n)*p(_)/100:_,"iframe"===w.type){if(u=w.content,w.autoHeight&&1===u.data("ready"))try{u[0].contentWindow.document.location&&(y.width(s).height(9999),r=u.contents().find("body"),E&&r.css("overflow-x","hidden"),o=r.height())}catch(A){}}else(w.autoWidth||w.autoHeight)&&(y.addClass("fancybox-tmp"),w.autoWidth||y.width(s),w.autoHeight||y.height(o),w.autoWidth&&(s=y.width()),w.autoHeight&&(o=y.height()),y.removeClass("fancybox-tmp"));if(v=p(s),_=p(o),c=s/o,x=p(h(x)?p(x,"w")-t:x),k=p(h(k)?p(k,"w")-t:k),C=p(h(C)?p(C,"h")-n:C),T=p(h(T)?p(T,"h")-n:T),r=k,l=T,w.fitToView&&(k=Math.min(d.w-t,k),T=Math.min(d.h-n,T)),t=d.w-D,$=d.h-$,w.aspectRatio?(v>k&&(v=k,_=p(v/c)),_>T&&(_=T,v=p(_*c)),x>v&&(v=x,_=p(v/c)),C>_&&(_=C,v=p(_*c))):(v=Math.max(x,Math.min(v,k)),w.autoHeight&&"iframe"!==w.type&&(y.width(v),_=y.height()),_=Math.max(C,Math.min(_,T))),w.fitToView)if(y.width(v).height(_),g.width(v+I),d=g.width(),D=g.height(),w.aspectRatio)for(;(d>t||D>$)&&v>x&&_>C&&!(m++>19);)_=Math.max(C,Math.min(T,_-10)),v=p(_*c),x>v&&(v=x,_=p(v/c)),v>k&&(v=k,_=p(v/c)),y.width(v).height(_),g.width(v+I),d=g.width(),D=g.height();else v=Math.max(x,Math.min(v,v-(d-t))),_=Math.max(C,Math.min(_,_-(D-$)));E&&"auto"===S&&o>_&&t>v+I+E&&(v+=E),y.width(v).height(_),g.width(v+I),d=g.width(),D=g.height(),g=(d>t||D>$)&&v>x&&_>C,v=w.aspectRatio?r>v&&l>_&&s>v&&o>_:(r>v||l>_)&&(s>v||o>_),i.extend(w,{dim:{width:f(d),height:f(D)},origWidth:s,origHeight:o,canShrink:g,canExpand:v,wPadding:I,hPadding:e,wrapSpace:D-b.outerHeight(!0),skinSpace:b.height()-_}),!u&&w.autoHeight&&_>C&&T>_&&!v&&y.height("auto")},_getPosition:function(e){var t=a.current,i=a.getViewport(),n=t.margin,s=a.wrap.width()+n[1]+n[3],o=a.wrap.height()+n[0]+n[2],n={position:"absolute",top:n[0],left:n[3]};return t.autoCenter&&t.fixed&&!e&&i.h>=o&&i.w>=s?n.position="fixed":t.locked||(n.top+=i.y,n.left+=i.x),n.top=f(Math.max(n.top,n.top+(i.h-o)*t.topRatio)),n.left=f(Math.max(n.left,n.left+(i.w-s)*t.leftRatio)),n},_afterZoomIn:function(){var e=a.current;e&&(a.isOpen=a.isOpened=!0,a.wrap.css("overflow","visible").addClass("fancybox-opened"),a.update(),(e.closeClick||e.nextClick&&a.group.length>1)&&a.inner.css("cursor","pointer").bind("click.fb",function(t){!i(t.target).is("a")&&!i(t.target).parent().is("a")&&(t.preventDefault(),a[e.closeClick?"close":"next"]())}),e.closeBtn&&i(e.tpl.closeBtn).appendTo(a.skin).bind("click.fb",function(e){e.preventDefault(),a.close()}),e.arrows&&a.group.length>1&&((e.loop||e.index>0)&&i(e.tpl.prev).appendTo(a.outer).bind("click.fb",a.prev),(e.loop||e.index<a.group.length-1)&&i(e.tpl.next).appendTo(a.outer).bind("click.fb",a.next)),a.trigger("afterShow"),e.loop||e.index!==e.group.length-1?a.opts.autoPlay&&!a.player.isActive&&(a.opts.autoPlay=!1,a.play()):a.play(!1))},_afterZoomOut:function(e){e=e||a.current,i(".fancybox-wrap").trigger("onReset").remove(),i.extend(a,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),a.trigger("afterClose",e)}}),a.transitions={getOrigPosition:function(){var e=a.current,t=e.element,i=e.orig,n={},s=50,o=50,r=e.hPadding,l=e.wPadding,c=a.getViewport();return!i&&e.isDom&&t.is(":visible")&&(i=t.find("img:first"),i.length||(i=t)),u(i)?(n=i.offset(),i.is("img")&&(s=i.outerWidth(),o=i.outerHeight())):(n.top=c.y+(c.h-o)*e.topRatio,n.left=c.x+(c.w-s)*e.leftRatio),("fixed"===a.wrap.css("position")||e.locked)&&(n.top-=c.y,n.left-=c.x),n={top:f(n.top-r*e.topRatio),left:f(n.left-l*e.leftRatio),width:f(s+l),height:f(o+r)}},step:function(e,t){var i,n,s=t.prop;n=a.current;var o=n.wrapSpace,r=n.skinSpace;("width"===s||"height"===s)&&(i=t.end===t.start?1:(e-t.start)/(t.end-t.start),a.isClosing&&(i=1-i),n="width"===s?n.wPadding:n.hPadding,n=e-n,a.skin[s](p("width"===s?n:n-o*i)),a.inner[s](p("width"===s?n:n-o*i-r*i)))},zoomIn:function(){var e=a.current,t=e.pos,n=e.openEffect,s="elastic"===n,o=i.extend({opacity:1},t);delete o.position,s?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):"fade"===n&&(t.opacity=.1),a.wrap.css(t).animate(o,{duration:"none"===n?0:e.openSpeed,easing:e.openEasing,step:s?this.step:null,complete:a._afterZoomIn})},zoomOut:function(){var e=a.current,t=e.closeEffect,i="elastic"===t,n={opacity:.1};i&&(n=this.getOrigPosition(),e.closeOpacity&&(n.opacity=.1)),a.wrap.animate(n,{duration:"none"===t?0:e.closeSpeed,easing:e.closeEasing,step:i?this.step:null,complete:a._afterZoomOut})},changeIn:function(){var e,t=a.current,i=t.nextEffect,n=t.pos,s={opacity:1},o=a.direction;n.opacity=.1,"elastic"===i&&(e="down"===o||"up"===o?"top":"left","down"===o||"right"===o?(n[e]=f(p(n[e])-200),s[e]="+=200px"):(n[e]=f(p(n[e])+200),s[e]="-=200px")),"none"===i?a._afterZoomIn():a.wrap.css(n).animate(s,{duration:t.nextSpeed,easing:t.nextEasing,complete:a._afterZoomIn})},changeOut:function(){var e=a.previous,t=e.prevEffect,n={opacity:.1},s=a.direction;"elastic"===t&&(n["down"===s||"up"===s?"top":"left"]=("up"===s||"left"===s?"-":"+")+"=200px"),e.wrap.animate(n,{duration:"none"===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){i(this).trigger("onReset").remove()}})}},a.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!c,fixed:!0},overlay:null,fixed:!1,create:function(e){e=i.extend({},this.defaults,e),this.overlay&&this.close(),this.overlay=i('<div class="fancybox-overlay"></div>').appendTo("body"),this.fixed=!1,e.fixed&&a.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(e){var t=this;e=i.extend({},this.defaults,e),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e),this.fixed||(s.bind("resize.overlay",i.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind("click.overlay",function(e){i(e.target).hasClass("fancybox-overlay")&&(a.isActive?a.close():t.close())}),this.overlay.css(e.css).show()},close:function(){i(".fancybox-overlay").remove(),s.unbind("resize.overlay"),this.overlay=null,!1!==this.margin&&(i("body").css("margin-right",this.margin),this.margin=!1),this.el&&this.el.removeClass("fancybox-lock")},update:function(){var e,i="100%";this.overlay.width(i).height("100%"),r?(e=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),o.width()>e&&(i=o.width())):o.width()>s.width()&&(i=o.width()),this.overlay.width(i).height(o.height())},onReady:function(e,n){i(".fancybox-overlay").stop(!0,!0),this.overlay||(this.margin=o.height()>s.height()||"scroll"===i("body").css("overflow-y")?i("body").css("margin-right"):!1,this.el=t.all&&!t.querySelector?i("html"):i("body"),this.create(e)),e.locked&&this.fixed&&(n.locked=this.overlay.append(n.wrap),n.fixed=!1),!0===e.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){t.locked&&(this.el.addClass("fancybox-lock"),!1!==this.margin&&i("body").css("margin-right",p(this.margin)+t.scrollbarWidth)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!a.isActive&&this.overlay.fadeOut(e.speedOut,i.proxy(this.close,this))}},a.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var t=a.current,n=t.title,s=e.type;if(i.isFunction(n)&&(n=n.call(t.element,t)),d(n)&&""!==i.trim(n)){switch(t=i('<div class="fancybox-title fancybox-title-'+s+'-wrap">'+n+"</div>"),s){case"inside":s=a.skin;break;case"outside":s=a.wrap;break;case"over":s=a.inner;break;default:s=a.skin,t.appendTo("body"),r&&t.width(t.width()),t.wrapInner('<span class="child"></span>'),a.current.margin[2]+=Math.abs(p(t.css("margin-bottom")))}t["top"===e.position?"prependTo":"appendTo"](s)}}},i.fn.fancybox=function(e){var t,n=i(this),s=this.selector||"",r=function(o){var r,l,c=i(this).blur(),u=t;!(o.ctrlKey||o.altKey||o.shiftKey||o.metaKey||c.is(".fancybox-wrap")||(r=e.groupAttr||"data-fancybox-group",l=c.attr(r),l||(r="rel",l=c.get(0)[r]),l&&""!==l&&"nofollow"!==l&&(c=s.length?i(s):n,c=c.filter("["+r+'="'+l+'"]'),u=c.index(this)),e.index=u,!1===a.open(c,e)||!o.preventDefault()))};return e=e||{},t=e.index||0,s&&!1!==e.live?o.undelegate(s,"click.fb-start").delegate(s+":not('.fancybox-item, .fancybox-nav')","click.fb-start",r):n.unbind("click.fb-start").bind("click.fb-start",r),this.filter("[data-fancybox-start=1]").trigger("click"),this},o.ready(function(){if(i.scrollbarWidth===n&&(i.scrollbarWidth=function(){var e=i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=e.children(),t=t.innerWidth()-t.height(99).innerWidth();return e.remove(),t}),i.support.fixedPosition===n){var e=i.support,t=i('<div style="position:fixed;top:20px;"></div>').appendTo("body"),s=20===t[0].offsetTop||15===t[0].offsetTop;t.remove(),e.fixedPosition=s}i.extend(a.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i("body")})})})(window,document,jQuery),function(){function e(){return(new Date).getTime()}var t=jQuery,i="jQuery.pause",n=1,s=t.fn.animate,o={};t.fn.animate=function(a,r,l,c){var u=t.speed(r,l,c);return u.complete=u.old,this.each(function(){this[i]||(this[i]=n++);var r=t.extend({},u);s.apply(t(this),[a,t.extend({},r)]),o[this[i]]={run:!0,prop:a,opt:r,start:e(),done:0}})},t.fn.pause=function(){return this.each(function(){this[i]||(this[i]=n++);var s=o[this[i]];s&&s.run&&(s.done+=e()-s.start,s.done>s.opt.duration?delete o[this[i]]:(t(this).stop(),s.run=!1))})},t.fn.resume=function(){return this.each(function(){this[i]||(this[i]=n++);var a=o[this[i]];a&&!a.run&&(a.opt.duration-=a.done,a.done=0,a.run=!0,a.start=e(),s.apply(t(this),[a.prop,t.extend({},a.opt)]))})}}(),function(e){var t,i=[];e.register=function(e){i.push(e),t&&e.call(this)},e.init=function(){t=!0;for(var e=0,n=i.length;n>e;e++)i[e].call(this)}}(window.Phryxus=window.Phryxus||{}),Phryxus.register(function(){var e={$slides:$("#manifesto ul li"),$progressBar:$(".progressIndicator"),timer:6e3,transition:300,init:function(){this.$slides.hide(),this.$slides.first().show(),this.$progressBar.css({width:0}),this.progressEffect(this.timer),this.mouseReactions()},getCurrentWidth:function(e){var t=e.width(),i=e.offsetParent().width(),n=100*t/i;return n},progressEffect:function(){this.$progressBar.animate({width:"100%"},e.timer,"linear",function(){e.nextSlide()})},progressBarFinished:function(){return this.getCurrentWidth(this.$progressBar)>="100"?!0:!1},nextSlide:function(){this.$progressBar.stop(),this.$progressBar.css({width:0}),curr=this.$slides.filter(":visible"),next=curr.html()==this.$slides.last().html()?this.$slides.first():curr.next(),curr.fadeOut(this.transition,function(){next.fadeIn(e.transition),e.progressEffect(e.timer)})},mouseReactions:function(){this.$slides.on("mouseenter",function(){e.$progressBar.pause()}),this.$slides.on("mouseleave",function(){e.$progressBar.resume()})}};e.init()}),Phryxus.register(function(){var projects={flechaD:$("#flechaDcha"),flechaI:$("#flechaIzda"),flechas:$("#proyectos div.flecha"),contenedor:$("#proyectosCont"),proyectosNum:$("#proyectosCont").find("a").length,currentBloq:1,indexZone:$("#indice").find("ul"),speed:500,init:function(){this.loadhtml(),this.bindClickArrows(),this.bindClickIndex(),this.flechaI.unbind()},loadhtml:function(){this.flechas.show(),this.getIndex(),this.flechaD.removeClass("inactive").addClass("active"),this.indexZone.find("li").first().addClass("selected")},getIndex:function(){for(var e=1;Math.ceil(this.proyectosNum/4)+1>e;e++)this.indexZone.append("<li data-bloq='"+e+"'></li>")},bindClickArrows:function(){this.flechas.off("click").on("mousedown",function(){$(this).removeClass("active").addClass("clicked");var e="izda"===$(this).data("dir")?"+":"-";projects.contenedor.is(":animated")||(projects.contenedor.animate({left:e+"=940"},this.speed),"+"===e?projects.currentBloq--:projects.currentBloq++,projects.direcLimit($(this).data("dir")),projects.indexZone.find("li.selected").removeClass("selected"),$('li[data-bloq="'+projects.currentBloq+'"]').addClass("selected"))}).on("mouseup",function(){$(this).removeClass("clicked active inactive hover").addClass("hover")}).hover(function(){$(this).removeClass("clicked active inactive hover").addClass("hover")},function(){$(this).removeClass("clicked active inactive hover").addClass("active")})},bindClickIndex:function(){this.indexZone.find("li").off("click").hover(function(){$("li.selected").removeClass("selected")},function(){$("li.selected").removeClass("selected"),$('li[data-bloq="'+projects.currentBloq+'"]').addClass("selected")}).on("mousedown",function(){var e=$(this).data("bloq"),t=e-1;e!==projects.currentBloq&&(projects.contenedor.is(":animated")||(t=940*t,projects.contenedor.animate({left:"-"+t},projects.speed),projects.currentBloq=e,$('li[data-bloq="'+projects.currentBloq+'"]').addClass("selected"),dir=projects.izdaOdcha(e),projects.direcActiva(projects.currentBloq-1)&&projects.direcActiva(projects.currentBloq+1)?(projects.flechas.not($('div[data-dir="'+dir+'"]')).removeClass("clicked active inactive hover").addClass("active"),projects.bindClickArrows()):(projects.bindClickArrows(),$('div[data-dir="'+dir+'"]').removeClass("clicked active inactive hover").addClass("inactive").off()),projects.flechas.not($('div[data-dir="'+dir+'"]')).removeClass("clicked active inactive hover").addClass("active")))})},direcActiva:function(e){return 0>=e||e>=Math.ceil(this.proyectosNum/4)+1?!1:!0},direcLimit:function(dir){var to="izda"===dir?"-":"+";bloq="0",bloq=eval(this.currentBloq+to+1),this.direcActiva(bloq)?(this.flechas.not($('div[data-dir="'+dir+'"]')).removeClass("clicked active inactive hover").addClass("active"),this.bindClickArrows()):$('div[data-dir="'+dir+'"]').removeClass("clicked active inactive hover").addClass("inactive").off()},izdaOdcha:function(e){var t="meh";return 1===e?t="izda":e===Math.ceil(this.proyectosNum/4)&&(t="dcha"),t}};projects.init()}),Phryxus.register(function(){contactForm={init:function(){$("#send").click(function(){$("#contacto").submit()}),$("#contacto").submit(function(){return $("body").css("cursor","progress"),$("#contacto").append('<input type="hidden" value="TRUE" id="is_ajax" name="is_ajax" />'),$("#send").off(),$.ajax({type:"POST",url:"/contacto/send",data:$("#contacto").serialize(),dataType:"json",success:function(){$("#manifesto").append('<div class="grid_6 push_1 success" style="margin-bottom: 40px; display: none;"> Mensaje enviado, nos pondremos en contacto con la mayor brevedad posible. </div>'),$(".success").slideToggle().delay("3000").slideToggle("400",function(){$(this).detach()}),$("#contacto").each(function(){this.reset()}),$("body").css("cursor","default"),$("#send").click(function(){$("#contacto").submit()})},error:function(e){$("#manifesto").append('<div class="grid_6 push_1 error" style="margin-bottom: 40px; display: none;"> '+e.responseText+" </div>"),$(".error").slideToggle().delay("3000").slideToggle("400",function(){$(this).detach()}),$("body").css("cursor","default"),$("#send").click(function(){$("#contacto").submit()})}}),!1})}},contactForm.init()}),$(document).ready(function(){Phryxus.init(),$(".ficha").fancybox()});